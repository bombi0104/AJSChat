<!DOCTYPE html>
<html lang="en" ng-app="ChatApp">
  <head>
    <meta charset="utf-8"> 
    <title>AJSChat</title>
    <link rel="stylesheet" href="stylesheets/style1.css">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
    <script src="https://cdn.rawgit.com/Luegg/angularjs-scroll-glue/v2.0.5/src/scrollglue.js"></script>
    <script src="javascripts/script.js"></script>
    <script src="javascripts/app.js"></script>
  </head>

  <body>
    <div class='main-panel' ng-controller="MainCtrl">
      <div class='left-panel'>
        <div class='header-panel center-text'>
          <b>Messager</b>
        </div>
        <div class='contact-panel'>
          <div class="list-group">
            <a href="#" ng-click="selectGroup(group)" class="list-group-item" 
              ng-class="{'active':group.active}" ng-repeat="group in groups">
              <span class="badge" ng-hide="group.unread == 0">{{group.unread}}</span>{{group.name}}</a>
          </div>
        </div>
      </div>
      <div class='right-panel'>
        <div class='header-panel' align="right">
          <div>Name : {{name}}</div>
          <div ng-show="!name">
            <input type="text" ng-model="login_name" placeholder="Username" style="width: 120px">
            <input type="password" ng-model="login_pass" placeholder="Password" style="width: 120px"
                    ng-keyup="$event.keyCode == 13 ? login() : null">
          </div>
        </div>
        <div class='chat-content' scroll-glue>
          <ul class="list-group">
            <li class="list-group-item" ng-repeat="msg in groups[currentGroupIndex].messages">
              <div class='div-left nickname'>{{msg.from_user.name}}</div>
              <div class='div-right msg-date'>{{msg.updated_at}}</div>
              <br/>
              <pre>{{msg.content}}</pre>
            </li>
          </ul>
        </div>
        <div class='input-panel'>
            <div style="height:30px">Input message header</div>
            <textarea style="height:70px" class="form-control" ng-model="inputMsg" 
              ng-keyup="sendMsg($event);" placeholder="Enter your message here..."></textarea>
            <!-- <input type="text" class="form-control" ng-model="inputMsg" ng-keyup="$event.keyCode == 13 ? sendMsg() : null"> -->
        </div>
      </div>
    </div>
  </body>
</html>